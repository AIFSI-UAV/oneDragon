{
  "adb_path": "D:/leidian/LDPlayer9/adb.exe",
  "device": "127.0.0.1:5555",
  "templates_dir": "templates/Mail",

  "macros": {
    "return_to_main": [
      {
        "action": "wait_and_click",
        "template": "btn_home.png",
        "timeout": 10,
        "threshold": 0.7
      },
      {
        "action": "sleep",
        "seconds": 2
      }
    ],

    "open_menu": [
      {
        "action": "wait_and_click",
        "template": "btn_menu.png",
        "timeout": 10,
        "threshold": 0.6,
        "roi": [0.5, 0.0, 1.0, 0.5],
        "roi_mode": "rel"
      }
    ],

    "open_mail": [
      {
        "action": "wait_and_click",
        "template": "btn_mail.png",
        "timeout": 20,
        "threshold": 0.7
      },
      {
        "action": "sleep",
        "seconds": 1
      }
    ],

    "collect_mail_once": [
      {
        "action": "wait_and_click",
        "template": "personally.png",
        "timeout": 20,
        "threshold": 0.7
      },
      {
        "action": "wait_and_click",
        "template": "claim.png",
        "timeout": 20,
        "threshold": 0.7
      },
      {
        "action": "sleep",
        "seconds": 1
      },
      {
        "action": "wait_and_click",
        "template": "claim_confirm.png",
        "timeout": 20,
        "threshold": 0.7
      }
    ],

    "quiet_mail": [
      {
        "action": "wait_and_click",
        "template": "mail_quiet.png",
        "timeout": 10
      },
      {
        "action": "sleep",
        "seconds": 1
      }
    ]
  },

  "tasks": [
    {
      "name": "get_prize",
      "steps": [
        {
          "action": "click_any_while_exists",
          "templates": ["get_prize.png", "get_confirm.png"],
          "per_timeout": 5,
          "threshold": 0.7,
          "click_times": 1,
          "max_clicks": 10,
          "max_duration": 30
        },
        {
          "action": "click_any_while_exists",
          "templates": ["get_allprize.png", "get_confirm.png"],
          "per_timeout": 5,
          "threshold": 0.7,
          "click_times": 1,
          "max_clicks": 10,
          "max_duration": 30
        }
      ]
    },
    {
      "name": "collect_all_mail",
      "steps": [
        { "use_macro": "open_mail" },
        { "use_macro": "collect_mail_once" },
        { "use_macro": "quiet_mail" }
      ]
    },

    {
      "name": "reget_prize",
      "steps": [
        {
          "action": "click_any_while_exists",
          "templates": ["get_prize.png", "get_confirm.png"],
          "per_timeout": 5,
          "threshold": 0.7,
          "click_times": 1,
          "max_clicks": 10,
          "max_duration": 30
        },
        {
          "action": "click_any_while_exists",
          "templates": ["get_allprize.png", "get_confirm.png"],
          "per_timeout": 5,
          "threshold": 0.7,
          "click_times": 1,
          "max_clicks": 10,
          "max_duration": 30
        }
      ]
    },

    {
      "name": "get_uniteprize",
      "steps": [
        { "use_macro": "open_menu" },
        {
          "action": "wait_and_click",
          "template": "LaborUnion.png",
          "timeout": 20,
          "threshold": 0.5
        },
        {
          "action": "wait_and_click",
          "template": "unite_task.png",
          "timeout": 20,
          "threshold": 0.5
        },
        {
          "action": "wait_and_click",
          "template": "get_uniteprize.png",
          "timeout": 20,
          "threshold": 0.5
        },
        { "use_macro": "return_to_main" }
             ]
      },
    {
      "name": "get_autotime",
      "steps": [
        {
          "action": "wait_and_click_any",
          "templates": ["auto_play.png", "auto.png"],
          "timeout": 20,
          "threshold": 0.5,
          "click_times": 1,
          "roi": [0.3, 0.7, 0.7, 1.0],
          "roi_mode": "rel"
        },
        {
          "action": "click_while_exists",
          "template": "autotime_used.png",
          "per_timeout": 2,
          "threshold": 0.7,
          "click_times": 1,
          "max_clicks": 2,
          "max_duration": 10
        }
                ]
    }
          ]
}
